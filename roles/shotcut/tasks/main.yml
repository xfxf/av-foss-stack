---
- name: Install shotcut dependencies
  apt:
    name: libxslt1.1

- name: Download Shotcut video editor (includes melt)
  get_url:
    # stored on local server for performance
    # url: "https://github.com/mltframework/shotcut/releases/download/v17.01/shotcut-linux-x86_64-170102.tar.bz2"
    url: http://gw1/shotcut-linux-x86_64-170102.tar.bz2
    dest: /tmp

- name: unpack Shotcut video editor (includes melt)
  unarchive:
    src: /tmp/shotcut-linux-x86_64-170102.tar.bz2
    dest: /usr/local/
    copy: no
    creates: /usr/local/Shotcut/Shotcut.desktop

- name: link in ~/bin to melt
  file:
    state: link
    src: /usr/local/Shotcut/Shotcut.app/{{ item }}
    dest: /usr/local/bin/{{ item }}
  with_items:
  - melt
  - shotcut
